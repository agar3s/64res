!function(){function e(e){return y&p[e]}function t(){e("37")&&(D.move(-1*a,0),D.setDirection(1)),e("38")&&D.move(0,-1*a),e("39")&&(D.move(1*a,0),D.setDirection(0)),e("40")&&D.move(0,1*a),i.fillStyle="rgba("+parseInt(m.substr(1,2),16)+","+parseInt(m.substr(3,4),16)+","+parseInt(m.substr(5,6),16)+",1)",i.fillStyle=m,i.fillRect(0,0,64*a,64*a),q++,q%3==0&&D.animate(),D.draw(),ra(t)}var r=document;r.get=r.getElementById;for(var n=r.get("c"),i=n.getContext("2d"),a=1,o="#0E3A19",s="#32623D",f="#6D9F6B",m="#96BA39",u=0,c=["ms","moz","webkit","o"],l=0;l<c.length&&!window.requestAnimationFrame;++l)requestAnimationFrame=window[c[l]+"RequestAnimationFrame"];requestAnimationFrame||(requestAnimationFrame=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-u)),n=setTimeout(function(){e(t+r)},r);return u=t+r,n}),ra=requestAnimationFrame;var y=0,p={37:1,38:2,39:4,40:8,65:16,83:32,68:64,32:128,13:256};r.addEventListener("keydown",function(e){var t=e.keyCode||e.which;p[t]&&(y|=p[t],e.preventDefault())}),r.addEventListener("keyup",function(e){var t=e.keyCode?e.keyCode:e.which;y&p[t]&&(y^=p[t],e.preventDefault())});var d={x:0,y:0};n.addEventListener("click",function(e){d.x=e.offsetX,d.y=e.offsetY,e.preventDefault()});var v="{'{({){*{7{9{:{G{H{I{J{g{h{i{j!\"#$1234ABCDQRSTabcdqrst~+~.~;~>~K~N~[~^~k~n",h="{K{L{W{X{Y{Z{[",A="{l",x=["","~\\~k","~k~\\","~_~n","~n~_","{M"],k={heroM:{kf:v,f:[1,0,2,0,3,0,4]},heroN:{kf:h,f:[5,0,5,0,5,0,5]},heroO:{kf:A,f:[0,0,0,0,0,0,0]}},w=16,g=15,F=function(e){for(var t=new Int16Array(w),r=0;r<e.length;r++)t[e[r]>>4]|=1<<g-(15&e[r]);return t},S=function(e){for(var t=0,r=e[t],n=[];r;){var i=86;"{"==r[0]&&(r=e[++t],i=0),"~"==r[0]&&(r=e[++t],i=172),n.push(r.charCodeAt()+i-33),r=e[++t]}return n},z=function(e){var t=this;t.x=0,t.y=0,t.color="#000",t.byteArray=new Int16Array(w),t.data=S(e),t.frames=[],t.iFrame=0,t.byteArray=F(t.data),t.pixelSize=0,t.direction=0,t.relx=0,t.rely=0,t.setPixelSize=function(e){t.pixelSize=e,t.height=t.width=16*t.pixelSize},t.addFrame=function(e){t.frames.push(F(e)),t.iFrame=t.frames.length-1},t.animate=function(){if(++t.iFrame>=t.frames.length&&(t.iFrame=0),"string"==typeof t.frames[t.iFrame])return t.setAnimation(t.frames[t.iFrame]);for(var e=[],r=0;w>r;r++){t.byteArray[r]=t.byteArray[r]^t.frames[t.iFrame][r];for(var n=0;w>n;n++)1<<g-n&t.byteArray[r]&&e.push(r*w+n)}t.data=e},t.draw=function(){i.fillStyle=t.color;for(var e=0;e<t.data.length;e++){var r=15&t.data[e];i.fillRect(t.x+(t.direction?r:15-r)*t.pixelSize,t.y+(t.data[e]>>4)*t.pixelSize,t.pixelSize,t.pixelSize)}},t.setAnimation=function(e){if(t.currentAnimation!=e&&k[e]){t.currentAnimation=e,t.frames=[];var r=k[e].f;for(t.byteArray=F(S(k[e].kf)),j=0;j<r.length;j++){var n=x[r[j]];if(-1==r[j])return t.iFrame=t.frames.length,t.frames.push("i");t.addFrame(S(n))}}},t.setPosition=function(e,r){t.x=e,t.y=r}},b=function(e){var t=this;t.sprites=[];for(var r=0;r<e.length;r++){var n=new z(e[r].key);n.color=e[r].color,n.layer=e[r].layer,t.sprites.push(n)}t.pixelSize=0,t.setPixelSize=function(e){t.pixelSize=e,t.sprites.map(function(t){t.setPixelSize(e)})},t.animate=function(){t.sprites.map(function(e){e.animate()})},t.draw=function(){t.sprites.map(function(e){e.draw()})},t.setPos=function(e,r){t.sprites.map(function(t){t.x=e,t.y=r})},t.move=function(e,r){t.sprites.map(function(t){t.x+=e,t.y+=r})},t.setAnimation=function(e){t.sprites.map(function(t){t.setAnimation(e+t.layer)})},t.setDirection=function(e){t.sprites.map(function(t){t.direction=e})}},D=new b([{key:v,color:o,layer:"M"},{key:h,color:s,layer:"N"},{key:A,color:f,layer:"O"}]);D.setAnimation("hero"),D.setPixelSize(a),D.setPos(0,0);var q=0;ra(t)}();