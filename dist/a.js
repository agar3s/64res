!function(){function e(e){return m&l[e]}function t(){e("37")&&(S.move(-1*a,0),S.setDirection(1)),e("38")&&S.move(0,-1*a),e("39")&&(S.move(1*a,0),S.setDirection(0)),e("40")&&S.move(0,1*a),n.fillStyle="rgba(255,"+Math.floor(122*Math.random()+122)+","+Math.floor(122*Math.random()+122)+",0.4)",n.fillRect(a,a,64*a,64*a),F++,F%3==0&&S.animate(),S.draw(),ra(t)}var r=document;r.get=r.getElementById;for(var i=r.get("c"),n=i.getContext("2d"),a=4,o=0,f=["ms","moz","webkit","o"],s=0;s<f.length&&!window.requestAnimationFrame;++s)requestAnimationFrame=window[f[s]+"RequestAnimationFrame"];requestAnimationFrame||(requestAnimationFrame=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-o)),i=setTimeout(function(){e(t+r)},r);return o=t+r,i}),ra=requestAnimationFrame;var m=0,l={37:1,38:2,39:4,40:8,65:16,83:32,68:64,32:128,13:256};r.addEventListener("keydown",function(e){var t=e.keyCode||e.which;l[t]&&(m|=l[t],e.preventDefault())}),r.addEventListener("keyup",function(e){var t=e.keyCode?e.keyCode:e.which;m&l[t]&&(m^=l[t],e.preventDefault())});var c={x:0,y:0};i.addEventListener("click",function(e){c.x=e.offsetX,c.y=e.offsetY,e.preventDefault()});var u="{'{({){*{7{9{:{G{H{I{J{g{h{i{j!\"#$1234ABCDQRSTabcdqrst~+~.~;~>~K~N~[~^~k~n",y="{K{L{W{X{Y{Z{[",d="{l",p=["","~\\~k","~k~\\","~_~n","~n~_","{M"],h={heroM:{kf:u,f:[1,0,2,0,3,0,4]},heroN:{kf:y,f:[5,0,5,0,5,0,5]},heroO:{kf:d,f:[0,0,0,0,0,0,0]}},v=16,x=15,A=function(e){for(var t=new Int16Array(v),r=0;r<e.length;r++)t[e[r]>>4]|=1<<x-(15&e[r]);return t},k=function(e){for(var t=0,r=e[t],i=[];r;){var n=86;"{"==r[0]&&(r=e[++t],n=0),"~"==r[0]&&(r=e[++t],n=172),i.push(r.charCodeAt()+n-33),r=e[++t]}return i},w=function(e){var t=this;t.x=0,t.y=0,t.color="#000",t.byteArray=new Int16Array(v),t.data=k(e),t.frames=[],t.iFrame=0,t.byteArray=A(t.data),t.pixelSize=0,t.direction=0,t.relx=0,t.rely=0,t.setPixelSize=function(e){t.pixelSize=e,t.height=t.width=16*t.pixelSize},t.addFrame=function(e){t.frames.push(A(e)),t.iFrame=t.frames.length-1},t.animate=function(){if(++t.iFrame>=t.frames.length&&(t.iFrame=0),"string"==typeof t.frames[t.iFrame])return t.setAnimation(t.frames[t.iFrame]);for(var e=[],r=0;v>r;r++){t.byteArray[r]=t.byteArray[r]^t.frames[t.iFrame][r];for(var i=0;v>i;i++)1<<x-i&t.byteArray[r]&&e.push(r*v+i)}t.data=e},t.draw=function(){n.fillStyle=t.color;for(var e=0;e<t.data.length;e++){var r=15&t.data[e];n.fillRect(t.x+(t.direction?r:15-r)*t.pixelSize,t.y+(t.data[e]>>4)*t.pixelSize,t.pixelSize,t.pixelSize)}},t.setAnimation=function(e){if(t.currentAnimation!=e&&h[e]){t.currentAnimation=e,t.frames=[];var r=h[e].f;for(t.byteArray=A(k(h[e].kf)),j=0;j<r.length;j++){var i=p[r[j]];if(-1==r[j])return t.iFrame=t.frames.length,t.frames.push("i");t.addFrame(k(i))}}},t.setPosition=function(e,r){t.x=e,t.y=r}},g=function(e){var t=this;t.sprites=[];for(var r=0;r<e.length;r++){var i=new w(e[r].key);i.color=e[r].color,i.layer=e[r].layer,t.sprites.push(i)}t.pixelSize=0,t.setPixelSize=function(e){t.pixelSize=e,t.sprites.map(function(t){t.setPixelSize(e)})},t.animate=function(){t.sprites.map(function(e){e.animate()})},t.draw=function(){t.sprites.map(function(e){e.draw()})},t.setPos=function(e,r){t.sprites.map(function(t){t.x=e,t.y=r})},t.move=function(e,r){t.sprites.map(function(t){t.x+=e,t.y+=r})},t.setAnimation=function(e){t.sprites.map(function(t){t.setAnimation(e+t.layer)})},t.setDirection=function(e){t.sprites.map(function(t){t.direction=e})}},S=new g([{key:u,color:"#330500",layer:"M"},{key:y,color:"#606060",layer:"N"},{key:d,color:"#383838",layer:"O"}]);S.setAnimation("hero"),S.setPixelSize(a),S.setPos(0,0);var F=0;n.fillStyle="#000",n.fillRect(0,0,66*a,66*a),ra(t)}();