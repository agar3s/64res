!function(){function e(e,t){g.M=t?e.P:e.M,g.N=t?e.O:e.N,g.O=t?e.N:e.O,g.P=t?e.M:e.P}function t(){var e=g.M,t=g.N,i=g.O,n=g.P;g.M=n,g.N=i,g.O=t,g.P=e}function i(e){return M&P[e]}function n(e){var t=fe[e];return!!t}function o(e){var t=fe[e];return fe=ae[t],{name:fe.code||t,data:fe}}function r(e,t,i,n){var o={code:n+i.toString(16),value:i},r=n+(e-1)+""+t,a=n+e+""+(t-1);return 0!=e&&8&i&&2&ae[r].value&&(o.l=r,ae[r].r=n+e+""+t),0!=t&&1&i&&4&ae[a].value&&(o.u=a,ae[a].d=n+e+""+t),o}function a(e,t){console.log("going to generate rooms");for(var i=ae[e],n=ae[e+"Z"],o=0;4>o;o++)for(var a=0;4>a;a++){var f=parseInt(t[4*o+a+2],16),l=r(a,o,f,e);0==a&&0==o&&(l.l=i.code,i.r=e+a+""+o),3==a&&3==o&&(l.r=n.code,n.l=e+a+""+o),ae[e+a+""+o]=l}}function f(e){ce=e}function l(){he>=ve||setTimeout(function(){t(),he++,l()},ge)}function u(e,t){he=0,ve=e||ve,ge=t||ge,l()}function p(){if(!ce.isReady())return ra(p);var e=ce.readInputs();ce.update(e),s.fillStyle=g.P,ce.draw(),le.draw(pe.coords.x*m,pe.coords.y*m),s.fillStyle="#333",s.fillRect(0,64*m,900,64*m),s.fillRect(64*m,0,900-64*m,500),ra(p)}var d=document;d.get=d.getElementById;for(var c=d.get("c"),s=c.getContext("2d"),m=7,h=64,v={gboy:{M:"#0E3A19",N:"#32623D",O:"#6D9F6B",P:"#96BA39"},gboy2:{M:"#0E1D24",N:"#2B6752",O:"#81BF76",P:"#DDF8D1"},gboy3:{M:"#000000",N:"#525252",O:"#929292",P:"#FFFFFF"},exp1:{M:"#A4155D",N:"#525252",O:"#F14D9F",P:"#E2FFE2"},exp2:{M:"#F21E12",N:"#890902",O:"#1C492D",P:"#000000"}},g=v[Object.keys(v)[Math.floor(5*Math.random())]],y=-1,k=15,A=3,w=0,x=["ms","moz","webkit","o"],z=0;z<x.length&&!window.requestAnimationFrame;++z)requestAnimationFrame=window[x[z]+"RequestAnimationFrame"];requestAnimationFrame||(requestAnimationFrame=function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-w)),n=setTimeout(function(){e(t+i)},i);return w=t+i,n}),ra=requestAnimationFrame;var M=0,P={37:1,38:2,39:4,40:8,65:16,83:32,68:64,32:128,13:256,49:512,50:1024,51:2048,52:4096,53:8192,54:16384,55:32768,56:65536,57:131072};d.addEventListener("keydown",function(e){var t=e.keyCode||e.which;P[t]&&(M|=P[t],e.preventDefault())}),d.addEventListener("keyup",function(e){var t=e.keyCode?e.keyCode:e.which;M&P[t]&&(M^=P[t],e.preventDefault())});var N="{'{({){*{7{9{:{G{H{I{J{g{h{i{j{k!\"#$%&1234ABCDQRSTabcdqrst~+~.~;~>~K~N~[~^~k~n",Y="{[",F="{L{M{W{X{Y{Z{\\",S="{8",Z="{'{({){*{7{9{:{G{H{I{J{g{h{i{j!\"#$1234ABCDQRSTabcdqrst~+~.~;~>~K~N~[~^~k~n",L="{'{){*{7{8{9{:{G{H{I{J{g{h{i{j!\"#$1234ABCDQRSTabcdqrst~+~.~;~>~L~N~\\~^~n",D="{W{X{Y{Z{\\{l&",O="{(",R="{'{({){*{7{9{:{G{H{I{J{g{h{i{j!\"#$1234ABCDQRSTabcdqrst~*~-~:~=~K~N~^",C="{W{X{Y{Z{\\{]{m",I="",b="{'{({){*{7{8{9{:{G{I{J{g{h{i{j!\"#$1234ABCDQRSTabcdqrst~+~-~;~=~K~[~k",J="{<{L{W{X{Y{Z{\\",H="{H",E='{7{8{9{:{G{H{I{J{W{Y{Z!"#$1234ABCDQRSTabcdqrst~+~,~-~.~;~=~K~N~\\~^~l',X="{k",B="{]{g{h{i{j{l{m",q="{X",K="{'{({){*{7{9{:{G{H{I{J{g{h{i{j!\"#$1234ABCDQRSTabcdqrst~*~.~:~>~J~N~[~_~o",$=["","~o~j~_~Z~J{8~n~k~^~[~K{9","~p~i~`~O~?~/~-~,ueUFE65{v{[{Z{Y{X{K{;{9~o~j~_~N~>~+qaQA1{k{j{i{h{g{I{G{7{*{){({'","~K~<~0vfXVH8'{u{\\{L{<~J~;~,rbRB2{X{H{8","~n~k~^~[~N~>~;~+rqbaRQBA21{k{j{i{h{g{I{H{G{7{*{){({'~p~i~`~Z~O~?~<~0~/~-vufeXVUHFE865'{v{u{\\{[{Z{Y{L{K{<{;","{l{[","{m{l","{[{m","{n{m{k{j{i{h{_{\\{Z{Y{X{W{M{L","{p{o{l{m{h{_","{\\{Z{Y{X{W{M{L{p{o{n{l{k{j{i","{9{8","{I{9","{8{I","{8{7","{7{J","{J{7","{7{8","{8{9","{9{:","{:{9","{Z{[","{Y{Z","{Z{Y","{[{Z","{[","{V","{[{K{\\{Z{M","{Z{J{[{Y{L","{[{Y{L{Z{J","{\\{Z{M{[{K","{\\{M{L","{U{E{D","{7","{8{H","~o~n","~_~^","~Q~P~O~o~_~N","~o~_~N~Q~P~O","~^~_","~n~o","{H{G","{G{7","{H{8","{G{H","{7{G","~Z~J~>~,~^~N~K~-","~k~[~K~;~-~+{8~Z~J~>~:~,~*{H","{M{m","{L{<{]{M","{8",'~n~[~M~>~<{j{i{h{g~\\~N$#"!{:{9{8{7','~k$#"!{X{:{9{8{7~l~>~<{j{i{h{g{H',"%{k","{k%","'&$#\"!{m{l{j{i{h{g{]",'{m{l{j{i{h{g&$#"!',"{H{X","~p~O~Kp~o~[~N~J","~q~`~Z~P~I~?~9~/~)~p~_~O~K~>~:~.~*","~i~b~a~Y~:~*{Z{Y{X{W{8~q~`~Z~9~)p{j{i{h{g{H{*{){({'",'~k~Z~O~J~A~>~;~.~+{j{i{h{g{H~i~b~a~Y~I~?~:~/~*$#"!{X{:{9{8{7',"~m~]~N~L~=~<~-~,~k~Z~J~A~>~;~.~+","~M$#\"!{:{9{7{*{){({'~P~O{Z{Y{W","~n~^~K~;~+~m~]~N~<~,","~o~_~[~N~J~>~:~.~*~n~^~M~L~K~=~;~-~+","{k{[","{[%","{^{]{M{L","{l{j{i{h{g{^{Z{Y{X{W",'&$#"!{j{i{h{g{]',"('{l{\\","{m{l{\\{Z{Y{X{W('&$#\"!","{]{m{l","{M{L{]","{X{H","{8{X"],G={attackM:{kf:N,f:[0,1,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,4]},attackN:{kf:Y,f:[0,0,0,0,0,5,0,0,0,6,0,0,0,0,0,0,0,7]},attackO:{kf:F,f:[0,0,0,0,0,8,0,0,0,9,0,0,0,0,0,0,0,10]},attackP:{kf:S,f:[0,11,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,13]},idle0M:{kf:Z,f:[0]},idle0N:{kf:Y,f:[0]},idle0O:{kf:F,f:[0]},idle0P:{kf:S,f:[0]},idle1M:{kf:Z,f:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,0,0,0,0,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},idle1N:{kf:Y,f:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,0,0,0,0,0,0,0,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,0,0,0,0,0,0,0,26,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,0,0,0,0,0,0,0,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},idle1O:{kf:F,f:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,0,0,0,0,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},idle1P:{kf:S,f:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,0,0,0,0,0,0,0,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,19,0,0,0,0,0,0,0,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},idle2M:{kf:Z,f:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,0,0,0,36,0,0,0,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,0,0,39,0,0,0,40,0,0,0,41,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},idle2N:{kf:Y,f:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},idle2O:{kf:F,f:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},idle2P:{kf:S,f:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,43,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},jump1M:{kf:L,f:[0]},jump1N:{kf:Y,f:[0]},jump1O:{kf:D,f:[0]},jump1P:{kf:O,f:[0]},jump2M:{kf:R,f:[0,0,0,46,0,0,0,47,0,0,0]},jump2N:{kf:Y,f:[0,0,0,0,0,0,0,0,0,0,0]},jump2O:{kf:C,f:[0,0,0,48,0,0,0,49,0,0,0]},jump2P:{kf:I,f:[0,0,0,50,0,0,0,43,0,0,0]},jump3M:{kf:b,f:[0]},jump3N:{kf:Y,f:[0]},jump3O:{kf:J,f:[0]},jump3P:{kf:H,f:[0]},jump4M:{kf:E,f:[0,0,0,51,0,0,0,52,0,0,0]},jump4N:{kf:X,f:[0,0,0,53,0,0,0,54,0,0,0]},jump4O:{kf:B,f:[0,0,0,55,0,0,0,56,0,0,0]},jump4P:{kf:q,f:[0,0,0,0,0,0,0,57,0,0,0]},runM:{kf:K,f:[0,58,0,59,0,60,0,61,0,62,0,63,0,64,0,65,0]},runN:{kf:Y,f:[0,0,0,0,0,66,0,53,0,0,0,67,0,0,0,0,0]},runO:{kf:F,f:[0,0,0,68,0,69,0,70,0,71,0,72,0,73,0,74,0]},runP:{kf:S,f:[0,0,0,0,0,43,0,75,0,0,0,76,0,0,0,0,0]}},T=16,Q=15,W=function(e){for(var t=new Int16Array(T),i=0;i<e.length;i++)t[e[i]>>4]|=1<<Q-(15&e[i]);return t},_=function(e){for(var t=0,i=e[t],n=[];i;){var o=86;"{"==i[0]&&(i=e[++t],o=0),"~"==i[0]&&(i=e[++t],o=172),n.push(i.charCodeAt()+o-33),i=e[++t]}return n},U=function(e){var t=this;t.x=0,t.y=0,t.color="#000",t.byteArray=new Int16Array(T),t.data=_(e),t.frames=[],t.iFrame=0,t.byteArray=W(t.data),t.pixelSize=0,t.direction=0,t.relx=0,t.rely=0,t.setPixelSize=function(e){t.pixelSize=e,t.height=t.width=16*t.pixelSize},t.addFrame=function(e){t.frames.push(W(e)),t.iFrame=t.frames.length-1},t.animate=function(){if(++t.iFrame>=t.frames.length&&(t.iFrame=0),"string"==typeof t.frames[t.iFrame])return t.setAnimation(t.frames[t.iFrame]);for(var e=[],i=0;T>i;i++){t.byteArray[i]=t.byteArray[i]^t.frames[t.iFrame][i];for(var n=0;T>n;n++)1<<Q-n&t.byteArray[i]&&e.push(i*T+n)}t.data=e},t.draw=function(e,i){s.fillStyle=g[this.color];for(var n=0;n<t.data.length;n++){var o=15&t.data[n];s.fillRect(Math.floor(t.x*m)+(t.direction?o:15-o)*t.pixelSize-e,Math.floor(t.y*m)+(t.data[n]>>4)*t.pixelSize-i,t.pixelSize,t.pixelSize)}},t.setAnimation=function(e){if(t.currentAnimation!=e&&G[e]){t.currentAnimation=e,t.frames=[];var i=G[e].f;for(t.byteArray=W(_(G[e].kf)),j=0;j<i.length;j++){var n=$[i[j]];if(-1==i[j])return t.iFrame=t.frames.length,t.frames.push("i");t.addFrame(_(n))}}},t.setPosition=function(e,i){t.x=e,t.y=i}},V=function(e){var t=this;t.sprites=[];for(var i=0;i<e.length;i++){var n=new U(e[i].key);n.color=e[i].layer,n.layer=e[i].layer,t.sprites.push(n)}t.pixelSize=0,t.speed=1,t.speedY=0,t.acelerationY=0,t.x=0,t.y=0,t.jumpPower=0,t.onEndAnimationLoop=void 0,t.currentAnimation="",t.setPixelSize=function(e){t.pixelSize=e,t.sprites.map(function(t){t.setPixelSize(e)})},t.animate=function(){for(var e=0;e<t.sprites.length;e++){var i=t.sprites[e];i.animate()}i.iFrame>=i.frames.length-1&&t.onEndAnimationLoop&&t.onEndAnimationLoop()},t.draw=function(e,i){for(var n=0;n<t.sprites.length;n++)t.sprites[n].draw(e,i)},t.setPos=function(e,i){t.x=e,t.y=i;for(var n=0;n<t.sprites.length;n++)t.sprites[n].x=e,t.sprites[n].y=i},t.move=function(e){t.acelerationY+=.1,t.acelerationY>2&&(t.acelerationY=2),t.speedY=t.acelerationY,t.x+=e,t.y=Math.round(t.y+t.speedY),t.setPos(t.x,t.y)},t.setAnimation=function(e){t.currentAnimation=e;for(var i=0;i<t.sprites.length;i++){var n=t.sprites[i];n.setAnimation(e+n.layer)}},t.setDirection=function(e){t.sprites.map(function(t){t.direction=e})},t.getLastLines=function(e){for(var i=[],n=0;e>n;n++)i.push(0);return t.sprites.reduce(function(t,i){for(var n=[],o=0;e>o;o++)n.push(t[e-o-1]|i.byteArray[15-o]);return n},i)}},ee=function(e){var t=this;t.loaded=!1;var i=new Image;i.src=e,t.map=[],t.puzzle=void 0,i.onload=function(){s.drawImage(i,0,0),t.width=i.width,t.height=i.height;for(var e=s.getImageData(0,0,i.width,i.height),n=e.data,o=-1,r=0,a=n.length;a>r;r+=4){r%(4*i.width)==0&&(t.map.push([]),o++),t.map[o].push(Math.floor(n[r]/64));var f=Math.floor(n[r+1]/10),l=Math.floor(n[r+2]/10);t.processInfo(f,l,t.map[o].length-1,o)}t.loaded=!0},t.processInfo=function(e,i,n,o){if(1==e){var r=re[i].current;t.puzzle=new ne(r,i),t.puzzle.x=n,t.puzzle.y=o}},t.draw=function(e,i,n,o){if(this.map&&this.map[0]){e=e+n>=t.width?t.width-n:e,i=i+o>=t.height?t.height-o:i;for(var r=0;o>r;r++)for(var a=0;n>a;a++){var f=this.map[r+i][a+e];3!=f&&(s.fillStyle=g["MNO"[f]],s.fillRect(a*m,r*m,m,m))}t.puzzle&&t.puzzle.draw(e-t.puzzle.x,i-t.puzzle.y)}},t.checkCollision=function(e,i){var n=e.getLastLines(i),o=e.x,r=e.y+1,a=r+15>t.height-1?t.height-1:r+15;a=i>a?i:a;for(var f=n.length-1;f>=0;f--){for(var l=0,u=0;15>u;u++){var p=t.map[a-f][o+u];l+=0==p?1<<15-u:0}if((l&n[f])>0)return a-f}return-1},t.enterPos=function(e){return{r:{i:0,j:t.height/2},l:{i:t.width,j:t.height/2},u:{i:t.height/2,j:t.height-15},d:{i:t.height/2,j:0}}[e]}},te=function(){var e=this;e.map=new ee("assets/A.png"),e.cont=0,e.coords={x:0,y:0},e.enter=!1,e.readInputs=function(){var t={x:0,y:0,heroCollides:e.map.checkCollision(le,A)};return i("37")?(t.x=-le.speed,le.setDirection(1),0==le.jumpPower&&"jump4"!=le.currentAnimation&&le.setAnimation("run")):i("39")&&(t.x=le.speed,le.setDirection(0),0==le.jumpPower&&"jump4"!=le.currentAnimation&&le.setAnimation("run")),i("38")&&-1!=t.heroCollides&&(le.collides=!1,le.acelerationY=y,le.jumpPower=0,le.lockJump=!1,le.setAnimation("jump1")),i("38")&&le.acelerationY<0&&!le.lockJump&&(le.jumpPower+=1,le.acelerationY=y,le.lockJump=le.jumpPower>k),i("13")?e.enter=!0:e.enter&&(t.enter=!0,e.enter=!1),t},e.update=function(t){return t.enter&&e.map.puzzle&&(de.puzzle=e.map.puzzle,de.x=e.coords.x,de.y=e.coords.y,le.setAnimation("idle2"),u(11,30),f(de)),le.x<=-10&&n("l")?e.changeMap("l"):le.x>=e.map.width-5&&n("r")?e.changeMap("r"):le.y<=-15&&n("u")?e.changeMap("u"):le.y>=e.map.height-1&&n("d")?e.changeMap("d"):(0==t.x&&0==le.jumpPower&&"jump4"!=le.currentAnimation&&"jump3"!=le.currentAnimation&&le.setAnimation(ue),le.move(t.x),le.animate(),e.cont++,400==e.cont&&(ue="idle"+(1+Math.round(Math.random())),le.onEndAnimationLoop=function(){ue="idle0",le.setAnimation(ue),le.onEndAnimationLoop=void 0}),e.cont>1e3&&(e.cont=0),le.acelerationY<0&&le.acelerationY>-.1&&le.setAnimation("jump2"),-1!=t.heroCollides&&le.acelerationY>0&&(t.heroCollides-le.y!=16&&le.speedY>.3&&(le.setAnimation("jump4"),le.onEndAnimationLoop=function(){ue="idle0",e.cont=0,le.setAnimation(ue),le.onEndAnimationLoop=void 0}),le.acelerationY=0,le.setPos(le.x,t.heroCollides-16),le.jumpPower=0),le.speedY>0&&le.acelerationY>0&&0==le.jumpPower&&le.setAnimation("jump3"),e.coords.x=le.x-24,e.coords.y=le.y-24,e.coords.x<0?e.coords.x=0:e.coords.x>e.map.width-h&&(e.coords.x=e.map.width-h),void(e.coords.y<0?e.coords.y=0:e.coords.y>e.map.height-h&&(e.coords.y=e.map.height-h)))},e.draw=function(){s.fillStyle=g.D,s.fillRect(0,0,m*h,m*h),e.map.draw(Math.floor(e.coords.x),Math.floor(e.coords.y),h,h)},e.changeMap=function(t){var i=o(t);e.map=new ee("assets/"+i.name+".png");e.map.enterPos(t);le.setPos(32,32)},e.isReady=function(){return e.map.loaded}},ie={1:{draw:function(e,t,i){s.fillRect(e+i*m,t,m,i*m)}},2:{draw:function(e,t,i){s.fillRect(e+i*m,t+i*m,i*m,m)}},4:{draw:function(e,t,i){s.fillRect(e+i*m,t+i*m,m,i*m)}},8:{draw:function(e,t,i){s.fillRect(e,t+i*m,i*m,m)}}},ne=function(e,t){var i=this;i.pieces=[],i.loaded=!1,i.enter=15,i.exit=7,i.proportion=8,i["void"]={i:0,j:0},i.id=t,i.decode=function(e){var t=!1;i.enter=parseInt(e[0],16),i.exit=parseInt(e[1],16);for(var n=0;4>n;n++){i.pieces.push([]);for(var o=0;4>o;o++){var r=parseInt(e[4*n+o+2],16);i.pieces[n][o]=r,0!=r||t||(i.pieces[n][o]=-1,i["void"].i=o,i["void"].j=n,t=!0)}}i.loaded=!0},i.encode=function(){var e="";e+=i.enter.toString("16"),e+=i.exit.toString("16"),i.pieces[i["void"].j][i["void"].i]=0;for(var t=0;4>t;t++)for(var n=0;4>n;n++)e+=i.pieces[t][n].toString("16");return i.pieces[i["void"].j][i["void"].i]=-1,e},i.exchange=function(e,t){var n=i.pieces[t][e];i.pieces[t][e]=-1,i.pieces[i["void"].j][i["void"].i]=n},i.toLeft=function(){0!=i["void"].i&&(i.exchange(i["void"].i-1,i["void"].j),i["void"].i-=1)},i.toRight=function(){3!=i["void"].i&&(i.exchange(i["void"].i+1,i["void"].j),i["void"].i+=1)},i.toTop=function(){0!=i["void"].j&&(i.exchange(i["void"].i,i["void"].j-1),i["void"].j-=1)},i.toBottom=function(){3!=i["void"].j&&(i.exchange(i["void"].i,i["void"].j+1),i["void"].j+=1)},i.draw=function(e,t){e=e||0,t=t||0,s.fillStyle=g.P,s.fillRect(-e*m,-t*m,32*m,32*m);for(var n=0;4>n;n++)for(var o=0;4>o;o++){var r=i.pieces[n][o],a=o*i.proportion*m-e*m,f=n*i.proportion*m-t*m,l=i.proportion/2;s.fillStyle=g.N,s.fillRect(a,f,i.proportion*m,m),s.fillRect(a,f+i.proportion*m,i.proportion*m,m),s.fillRect(a,f,m,i.proportion*m),s.fillRect(a+i.proportion*m,f,m,i.proportion*m),0>=r?(0==r&&(s.fillStyle=g.P),s.fillRect(a+m,f+m,(i.proportion-1)*m,(i.proportion-1)*m)):(s.fillStyle=g.M,(1&r)>0&&ie[1].draw(a,f,l),(2&r)>0&&ie[2].draw(a,f,l),(4&r)>0&&ie[4].draw(a,f,l),(8&r)>0&&ie[8].draw(a,f,l))}},i.decode(e)},oe=function(){var e=this;e.puzzle=new ne("F70101010101010101"),le.setAnimation("idle2"),e.up=!1,e.down=!1,e.left=!1,e.right=!1,e.readInputs=function(){var t={up:!1,down:!1,left:!1,right:!1,enter:!1};return i("37")?e.left=!0:e.left&&(t.left=!0,e.left=!1),i("39")?e.right=!0:e.right&&(t.right=!0,e.right=!1),i("38")?e.up=!0:e.up&&(t.up=!0,e.up=!1),i("40")?e.down=!0:e.down&&(t.down=!0,e.down=!1),i("13")?e.enter=!0:e.enter&&(t.enter=!0,e.enter=!1),t},e.update=function(t){t.enter&&(re[e.puzzle.id].current=e.puzzle.encode(),a("A",re[e.puzzle.id].current),u(11,30),f(pe)),t.right&&e.puzzle.toRight(),t.left&&e.puzzle.toLeft(),t.up&&e.puzzle.toTop(),t.down&&e.puzzle.toBottom()},e.draw=function(){e.puzzle.draw(e.x-e.puzzle.x,e.y-e.puzzle.y)},e.isReady=function(){return e.puzzle.loaded}},re={2:{original:"F7AC2C69053C6D0393",current:"F7AC2C69053C6D0393"}},ae={0:{r:"1"},1:{l:"0",u:"A"},2:{l:"3",r:"4",d:"1"},3:{r:"2",l:"A",u:"B"},4:{l:"2",r:"C",d:"D"},A:{l:"A",r:"A",p:"2",code:"A"},AZ:{l:"p",code:"AZ"},B:{t:"p",d:"3"},C:{t:"p",l:"3"},D:{t:"p",u:"3"}},fe=ae.A;a("A",re[2].current);var le=new V([{key:N,layer:"M"},{key:Y,layer:"N"},{key:F,layer:"O"},{key:S,layer:"P"}]);le.setAnimation("idle0"),le.setPixelSize(m),le.setPos(32,32);var ue="idle0",pe=new te,de=new oe,ce=pe,se=["exp2","gboy2","gboy3","exp1","gboy"],me=0;c.addEventListener("click",function(t){me+=1,4==me&&(me=0),e(v[se[me]],!1),t.preventDefault()});var he=0,ve=20,ge=30;ra(p)}();