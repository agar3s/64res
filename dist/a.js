!function(){function e(e){console.log(e),f.M=e.m,f.N=e.n,f.O=e.o,f.P=e.p}function t(e){return l&y[e]}function n(){var e=0,i=0;t("37")?(e=-1,M.setDirection(1)):t("39")&&(e=1,M.setDirection(0)),t("38")?i=-1:t("40")&&(i=1),M.move(e*o,i*o),a.fillStyle=f.d,a.fillRect(0,0,64*o,64*o),N++,M.animate(),N>100&&(N=0),M.draw(),ra(n)}var i=document;i.get=i.getElementById;for(var r=i.get("c"),a=r.getContext("2d"),o=1,f={M:"#0E3A19",N:"#32623D",O:"#6D9F6B",P:"#96BA39"},s={gboy:{m:"#0E3A19",n:"#32623D",o:"#6D9F6B",p:"#96BA39"},gboy2:{m:"#0E1D24",n:"#2B6752",o:"#81BF76",p:"#DDF8D1"},gboy3:{m:"#000000",n:"#525252",o:"#929292",p:"#FFFFFF"}},c=0,m=["ms","moz","webkit","o"],u=0;u<m.length&&!window.requestAnimationFrame;++u)requestAnimationFrame=window[m[u]+"RequestAnimationFrame"];requestAnimationFrame||(requestAnimationFrame=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),i=setTimeout(function(){e(t+n)},n);return c=t+n,i}),ra=requestAnimationFrame;var l=0,y={37:1,38:2,39:4,40:8,65:16,83:32,68:64,32:128,13:256};i.addEventListener("keydown",function(e){var t=e.keyCode||e.which;y[t]&&(l|=y[t],e.preventDefault())}),i.addEventListener("keyup",function(e){var t=e.keyCode?e.keyCode:e.which;l&y[t]&&(l^=y[t],e.preventDefault())});var p={x:0,y:0},d=["gboy","gboy2","gboy3"],h=0;r.addEventListener("click",function(t){p.x=t.offsetX,p.y=t.offsetY,h+=1,3==h&&(h=0),e(s[d[h]]),t.preventDefault()});var v="{%{&{'{({5{7{8{E{F{G{H{e{f{g{h{u{v!\"/012@ABCPQRS`abcpqrs~*~.~:~>~K~L~N~_~o",A="{I{J{U{V{W{X{Y",g="{j",F="{'{({){*{7{9{:{G{H{I{J{g{h{i{j!\"#$1234ABCDQRSTabcdqrst~+~.~;~>~K~N~[~^~k~n",k="{K{L{W{X{Y{Z{[",x="{l",S=["","~p~O~;~9~8~(o_O?{D{6{4{$~o~N~L~K~*C{H{8{5{(","~N~H~=~7~-~'nN>.{t{d{C{5{3{#~O~>~;~:~9~8~.~(scSRB2\"{h{G{7{4{'","~`~W~G~p~H","~g~P~O~8~(RB~`~_~7~'nN>","~i~X~M~H~<~9~,~)2\"{G{7{4{'~g~W~P~G~=~8~-~(.{t{C{5{3{#","~k~Z~J~=~:~-~*scSC3{h{H{8{5{(~i~X~M~H~<~9~,~)o_O?/{d{D{6{4{$","~l~\\~M~K~<~;~,~+/~k~Z~O~J~=~:~-~*3","~o~_~L~>~:~.~*~l~\\~M~<~;~,~+","{T{Y","{S{J","{Y{I","{I{Y","{Y{J{S{I","{I{T","{Y","{Y{j","{H","{Y{H","{Z{Y","{j{Z","{i{j","{j{i","~\\~k","~k~\\","~_~n","~n~_","{M"],w={cocoM:{kf:v,f:[1,0,2,0,3,0,4,0,5,0,6,0,7,0,8]},cocoN:{kf:A,f:[9,0,10,0,11,0,12,0,13,0,14,0,15,0,15]},cocoO:{kf:g,f:[16,0,15,0,17,0,18,0,19,0,20,0,21,0,22]},heroM:{kf:F,f:[23,0,24,0,25,0,26]},heroN:{kf:k,f:[27,0,27,0,27,0,27]},heroO:{kf:x,f:[0,0,0,0,0,0,0]}},D=16,b=15,z=function(e){for(var t=new Int16Array(D),n=0;n<e.length;n++)t[e[n]>>4]|=1<<b-(15&e[n]);return t},P=function(e){for(var t=0,n=e[t],i=[];n;){var r=86;"{"==n[0]&&(n=e[++t],r=0),"~"==n[0]&&(n=e[++t],r=172),i.push(n.charCodeAt()+r-33),n=e[++t]}return i},B=function(e){var t=this;t.x=0,t.y=0,t.color="#000",t.byteArray=new Int16Array(D),t.data=P(e),t.frames=[],t.iFrame=0,t.byteArray=z(t.data),t.pixelSize=0,t.direction=0,t.relx=0,t.rely=0,t.setPixelSize=function(e){t.pixelSize=e,t.height=t.width=16*t.pixelSize},t.addFrame=function(e){t.frames.push(z(e)),t.iFrame=t.frames.length-1},t.animate=function(){if(++t.iFrame>=t.frames.length&&(t.iFrame=0),"string"==typeof t.frames[t.iFrame])return t.setAnimation(t.frames[t.iFrame]);for(var e=[],n=0;D>n;n++){t.byteArray[n]=t.byteArray[n]^t.frames[t.iFrame][n];for(var i=0;D>i;i++)1<<b-i&t.byteArray[n]&&e.push(n*D+i)}t.data=e},t.draw=function(){a.fillStyle=f[this.color];for(var e=0;e<t.data.length;e++){var n=15&t.data[e];a.fillRect(t.x+(t.direction?n:15-n)*t.pixelSize,t.y+(t.data[e]>>4)*t.pixelSize,t.pixelSize,t.pixelSize)}},t.setAnimation=function(e){if(t.currentAnimation!=e&&w[e]){t.currentAnimation=e,t.frames=[];var n=w[e].f;for(t.byteArray=z(P(w[e].kf)),j=0;j<n.length;j++){var i=S[n[j]];if(-1==n[j])return t.iFrame=t.frames.length,t.frames.push("i");t.addFrame(P(i))}}},t.setPosition=function(e,n){t.x=e,t.y=n}},C=function(e){var t=this;t.sprites=[];for(var n=0;n<e.length;n++){var i=new B(e[n].key);i.color=e[n].layer,console.log(i.color,f[this.color]),i.layer=e[n].layer,t.sprites.push(i)}t.pixelSize=0,t.setPixelSize=function(e){t.pixelSize=e,t.sprites.map(function(t){t.setPixelSize(e)})},t.animate=function(){t.sprites.map(function(e){e.animate()})},t.draw=function(){t.sprites.map(function(e){e.draw()})},t.setPos=function(e,n){t.sprites.map(function(t){t.x=e,t.y=n})},t.move=function(e,n){t.sprites.map(function(t){t.x+=e,t.y+=n})},t.setAnimation=function(e){t.sprites.map(function(t){t.setAnimation(e+t.layer)})},t.setDirection=function(e){t.sprites.map(function(t){t.direction=e})}},M=new C([{key:v,layer:"M"},{key:A,layer:"N"},{key:g,layer:"O"}]);M.setAnimation("coco"),M.setPixelSize(o),M.setPos(0,0);var N=0;ra(n)}();